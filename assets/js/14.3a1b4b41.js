(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{375:function(t,e,r){"use strict";r.r(e);var a=r(44),s=Object(a.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"publishing-source"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#publishing-source"}},[t._v("#")]),t._v(" Publishing Source")]),t._v(" "),r("p",[t._v("The Anchor Program Registry at "),r("a",{attrs:{href:"https://anchor.projectserum.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("anchor.projectserum.com"),r("OutboundLink")],1),t._v("\nhosts a catalog of verified programs on Solana both written with and without Anchor. It is recommended\nthat authors of smart contracts publish their source to promote best\npractices for security and transparency.")]),t._v(" "),r("div",{staticClass:"custom-block tip"},[r("p",{staticClass:"custom-block-title"},[t._v("note")]),t._v(" "),r("p",[t._v("The Anchor Program Registry is currently in alpha testing. For access to publishing\nplease ask on "),r("a",{attrs:{href:"https://discord.gg/rg5ZZPmmTm",target:"_blank",rel:"noopener noreferrer"}},[t._v("Discord"),r("OutboundLink")],1),t._v(".")])]),t._v(" "),r("h2",{attrs:{id:"getting-started"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#getting-started"}},[t._v("#")]),t._v(" Getting Started")]),t._v(" "),r("p",[t._v("The process for publishing is mostly identical to "),r("code",[t._v("crates.io")]),t._v(".")]),t._v(" "),r("ul",[r("li",[t._v("Signup for an account "),r("a",{attrs:{href:"https://anchor.projectserum.com/signup",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),r("OutboundLink")],1),t._v(".")]),t._v(" "),r("li",[t._v("Confirm your email by clicking the link sent to your address.")]),t._v(" "),r("li",[t._v("Navigate to your Username -> Account Settings on the top navbar.")]),t._v(" "),r("li",[t._v('Click "New Token" in the '),r("strong",[t._v("API Access")]),t._v(" section.")]),t._v(" "),r("li",[t._v("Run "),r("code",[t._v("anchor login <token>")]),t._v(" at the command line.")])]),t._v(" "),r("p",[t._v("And you're ready to interact with the registry.")]),t._v(" "),r("h2",{attrs:{id:"configuring-a-build"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#configuring-a-build"}},[t._v("#")]),t._v(" Configuring a Build")]),t._v(" "),r("p",[t._v("Whether your program is written in Anchor or not, all source being published must\nhave an "),r("code",[t._v("Anchor.toml")]),t._v(" to define the build.")]),t._v(" "),r("p",[t._v("An example "),r("code",[t._v("Anchor.toml")]),t._v(" config looks as follows,")]),t._v(" "),r("div",{staticClass:"language-toml extra-class"},[r("pre",{pre:!0,attrs:{class:"language-toml"}},[r("code",[r("span",{pre:!0,attrs:{class:"token key property"}},[t._v("anchor_version")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0.13.2"')]),t._v("\n\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),r("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("workspace")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token key property"}},[t._v("members")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"programs/multisig"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),r("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("provider")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token key property"}},[t._v("cluster")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mainnet"')]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token key property"}},[t._v("wallet")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"~/.config/solana/id.json"')]),t._v("\n\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),r("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("programs.mainnet")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token key property"}},[t._v("multisig")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"A9HAbnCwoD6f2NkZobKFf6buJoN9gUVVvX5PoUnDHS6u"')]),t._v("\n")])])]),r("p",[t._v("Here there are four sections.")]),t._v(" "),r("ol",[r("li",[r("code",[t._v("anchor_version")]),t._v(" (optional) - sets the anchor docker image to use. By default, the builder will use the latest version of Anchor.")]),t._v(" "),r("li",[r("code",[t._v("[workspace]")]),t._v(" (optional) - sets the paths--relative to the "),r("code",[t._v("Anchor.toml")]),t._v("--\nto all programs in the local\nworkspace, i.e., the path to the "),r("code",[t._v("Cargo.toml")]),t._v(" manifest associated with each\nprogram that can be compiled by the "),r("code",[t._v("anchor")]),t._v(" CLI. For programs using the\nstandard Anchor workflow, this can be ommitted.  For programs not written in Anchor\nbut still want to publish, this should be added.")]),t._v(" "),r("li",[r("code",[t._v("[provider]")]),t._v(" - configures the wallet and cluster settings. Here, "),r("code",[t._v("mainnet")]),t._v(" is used because the registry only supports "),r("code",[t._v("mainnet")]),t._v(" binary verification at the moment.")]),t._v(" "),r("li",[r("code",[t._v("[programs.mainnet]")]),t._v(" - configures each program in the workpace, providing\nthe "),r("code",[t._v("address")]),t._v(" of the program to verify.")])]),t._v(" "),r("div",{staticClass:"custom-block tip"},[r("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),r("p",[t._v("When defining program in "),r("code",[t._v("[programs.mainnet]")]),t._v(", make sure the name provided\nmatches the "),r("strong",[t._v("lib")]),t._v(" name for your program, which is defined\nby your program's Cargo.toml.")])]),t._v(" "),r("h3",{attrs:{id:"examples"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#examples"}},[t._v("#")]),t._v(" Examples")]),t._v(" "),r("h4",{attrs:{id:"anchor-program"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#anchor-program"}},[t._v("#")]),t._v(" Anchor Program")]),t._v(" "),r("p",[t._v("An example of a toml file for an Anchor program can be found "),r("a",{attrs:{href:"https://anchor.projectserum.com/build/2",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),r("OutboundLink")],1),t._v(".")]),t._v(" "),r("h4",{attrs:{id:"non-anchor-program"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#non-anchor-program"}},[t._v("#")]),t._v(" Non Anchor Program")]),t._v(" "),r("p",[t._v("An example of a toml file for a non-anchor program can be found "),r("a",{attrs:{href:"https://anchor.projectserum.com/build/1",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),r("OutboundLink")],1),t._v(".")]),t._v(" "),r("h2",{attrs:{id:"publishing"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#publishing"}},[t._v("#")]),t._v(" Publishing")]),t._v(" "),r("p",[t._v("To publish to the Anchor Program Registry, change directories to the "),r("code",[t._v("Anchor.toml")]),t._v("\ndefined root and run")]),t._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[t._v("anchor publish "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("program-name"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),r("p",[t._v("where "),r("code",[t._v("<program-name>")]),t._v(" is as defined in "),r("code",[t._v("[programs.mainnet]")]),t._v(", i.e., "),r("code",[t._v("multisig")]),t._v("\nin the example above.")])])}),[],!1,null,null,null);e.default=s.exports}}]);